{"version":3,"sources":["../../backend/config/database.ts","../../backend/config/envConfig.ts","../../backend/config/logger.ts"],"sourcesContent":["import mongoose from \"mongoose\"\nimport { env } from \"@/config/envConfig\"\nimport { logger } from \"@/config/logger\"\n\nexport async function connectToDatabase(): Promise<void> {\n    try {\n        await mongoose.connect(env.MONGODB_URI)\n        logger.info(\"Connected to MongoDB\")\n    } catch (error) {\n        logger.error(\"Failed to connect to MongoDB\", error)\n        process.exit(1)\n    }\n}\n\nmongoose.connection.on(\"disconnected\", () => {\n    logger.warn(\"Disconnected from MongoDB\")\n})\n\nmongoose.connection.on(\"error\", (err) => {\n    logger.error(\"MongoDB connection error\", err)\n})\n\n// Close the Mongoose connection when the Node process ends\nprocess.on(\"SIGINT\", async () => {\n    await mongoose.connection.close()\n    logger.info(\"MongoDB connection closed due to app termination\")\n    process.exit(0)\n})\n","import dotenv from \"dotenv\";\nimport { cleanEnv, host, num, port, str, testOnly } from \"envalid\";\n\ndotenv.config();\n\nexport const env = cleanEnv(process.env, {\n    NODE_ENV: str({ devDefault: testOnly(\"test\"), choices: [\"development\", \"production\", \"test\"] }),\n    HOST: host({ devDefault: testOnly(\"localhost\") }),\n    PORT: port({ devDefault: testOnly(3000) }),\n    MONGODB_URI: str({ desc: \"MongoDB connection string\" }),\n    JWT_SECRET: str({ desc: \"Secret key for JWT\" }),\n    JWT_EXPIRES_IN: str({ default: \"1d\", desc: \"JWT expiration time\" }),\n    CORS_ORIGIN: str({ devDefault: testOnly(\"http://localhost:3000\") }),\n    COMMON_RATE_LIMIT_MAX_REQUESTS: num({ devDefault: testOnly(1000) }),\n    COMMON_RATE_LIMIT_WINDOW_MS: num({ devDefault: testOnly(1000) }),\n    // Email service configuration\n    // SMTP_HOST: str({ desc: \"SMTP host for email service\" }),\n    // SMTP_PORT: num({ desc: \"SMTP port for email service\" }),\n    // SMTP_USER: str({ desc: \"SMTP username\" }),\n    // SMTP_PASS: str({ desc: \"SMTP password\" }),\n    // SMTP_FROM: str({ desc: \"Email sender address\" }),\n    // RESET_PASSWORD_EXPIRES_IN: str({ default: \"1h\", desc: \"Password reset token expiration time\" }),\n});\n","import pino from \"pino\"\nimport { env } from \"@/config/envConfig\"\n\nexport const logger = pino({\n  level: env.isProduction ? \"info\" : \"debug\",\n  transport: env.isProduction || env.isDevelopment\n    ? {\n        target: \"pino-pretty\",\n        options: {\n            colorize: true,\n            translateTime: \"HH:MM:ss\", // Show time in a short format\n            ignore: \"pid,hostname\",    // Ignore unnecessary fields\n            singleLine: true,          // Display logs in a single line\n        },\n      }\n    : undefined,\n})"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAqB;;;ACArB,oBAAmB;AACnB,qBAAyD;AAEzD,cAAAA,QAAO,OAAO;AAEP,IAAM,UAAM,yBAAS,QAAQ,KAAK;AAAA,EACrC,cAAU,oBAAI,EAAE,gBAAY,yBAAS,MAAM,GAAG,SAAS,CAAC,eAAe,cAAc,MAAM,EAAE,CAAC;AAAA,EAC9F,UAAM,qBAAK,EAAE,gBAAY,yBAAS,WAAW,EAAE,CAAC;AAAA,EAChD,UAAM,qBAAK,EAAE,gBAAY,yBAAS,GAAI,EAAE,CAAC;AAAA,EACzC,iBAAa,oBAAI,EAAE,MAAM,4BAA4B,CAAC;AAAA,EACtD,gBAAY,oBAAI,EAAE,MAAM,qBAAqB,CAAC;AAAA,EAC9C,oBAAgB,oBAAI,EAAE,SAAS,MAAM,MAAM,sBAAsB,CAAC;AAAA,EAClE,iBAAa,oBAAI,EAAE,gBAAY,yBAAS,uBAAuB,EAAE,CAAC;AAAA,EAClE,oCAAgC,oBAAI,EAAE,gBAAY,yBAAS,GAAI,EAAE,CAAC;AAAA,EAClE,iCAA6B,oBAAI,EAAE,gBAAY,yBAAS,GAAI,EAAE,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQnE,CAAC;;;ACtBD,kBAAiB;AAGV,IAAM,aAAS,YAAAC,SAAK;AAAA,EACzB,OAAO,IAAI,eAAe,SAAS;AAAA,EACnC,WAAW,IAAI,gBAAgB,IAAI,gBAC/B;AAAA,IACE,QAAQ;AAAA,IACR,SAAS;AAAA,MACL,UAAU;AAAA,MACV,eAAe;AAAA;AAAA,MACf,QAAQ;AAAA;AAAA,MACR,YAAY;AAAA;AAAA,IAChB;AAAA,EACF,IACA;AACN,CAAC;;;AFZD,eAAsB,oBAAmC;AACrD,MAAI;AACA,UAAM,gBAAAC,QAAS,QAAQ,IAAI,WAAW;AACtC,WAAO,KAAK,sBAAsB;AAAA,EACtC,SAAS,OAAO;AACZ,WAAO,MAAM,gCAAgC,KAAK;AAClD,YAAQ,KAAK,CAAC;AAAA,EAClB;AACJ;AAEA,gBAAAA,QAAS,WAAW,GAAG,gBAAgB,MAAM;AACzC,SAAO,KAAK,2BAA2B;AAC3C,CAAC;AAED,gBAAAA,QAAS,WAAW,GAAG,SAAS,CAAC,QAAQ;AACrC,SAAO,MAAM,4BAA4B,GAAG;AAChD,CAAC;AAGD,QAAQ,GAAG,UAAU,YAAY;AAC7B,QAAM,gBAAAA,QAAS,WAAW,MAAM;AAChC,SAAO,KAAK,kDAAkD;AAC9D,UAAQ,KAAK,CAAC;AAClB,CAAC;","names":["dotenv","pino","mongoose"]}