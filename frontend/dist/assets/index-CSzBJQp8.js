import{u as g,r as c,j as e,F as h,b as j}from"./index-D6vpgO8O.js";const v=()=>{const{complaints:a,loading:d,updateComplaintStatus:o}=g(),[t,x]=c.useState(""),[l,u]=c.useState("ALL"),n=a==null?void 0:a.filter(s=>{const r=s.title.toLowerCase().includes(t.toLowerCase())||s.description.toLowerCase().includes(t.toLowerCase())||s.location.toLowerCase().includes(t.toLowerCase()),i=l==="ALL"||s.status===l;return r&&i});if(d)return e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-32 w-32 animate-spin rounded-full border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Loading complaints..."})]})});const m=s=>{switch(s){case"SUBMITTED":return"bg-gray-100 text-gray-800";case"UNDER_REVIEW":return"bg-yellow-100 text-yellow-800";case"IN_PROGRESS":return"bg-blue-100 text-blue-800";case"RESOLVED":return"bg-green-100 text-green-800";case"REJECTED":return"bg-red-100 text-red-800";case"ESCALATED":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Complaints"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View and manage all complaints in the system."})]}),e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(h,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:t,onChange:s=>x(s.target.value),placeholder:"Search complaints...",className:"block w-full rounded-md border-0 py-1.5 pl-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-1 focus:ring-inset focus:ring-blue-600 outline-none sm:text-sm sm:leading-6"})]}),e.jsxs("select",{value:l,onChange:s=>u(s.target.value),className:"ml-4 rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-1 focus:ring-blue-600 outline-none sm:text-sm sm:leading-6",children:[e.jsx("option",{value:"ALL",children:"All Status"}),e.jsx("option",{value:"SUBMITTED",children:"Submitted"}),e.jsx("option",{value:"UNDER_REVIEW",children:"Under Review"}),e.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),e.jsx("option",{value:"RESOLVED",children:"Resolved"}),e.jsx("option",{value:"REJECTED",children:"Rejected"}),e.jsx("option",{value:"ESCALATED",children:"Escalated"})]})]}),e.jsx("div",{className:"overflow-hidden rounded-lg bg-white shadow",children:e.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:n==null?void 0:n.map(s=>{var r;return e.jsx("li",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-red-100",children:e.jsx(j,{className:"h-6 w-6 text-red-600"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s.description}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500",children:[e.jsx("span",{children:s.location}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:new Date(s.createdAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${m(s.status)}`,children:(r=s.status)==null?void 0:r.replace("_"," ")}),e.jsxs("select",{value:s.status,onChange:i=>o(s._id,i.target.value),className:"rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-blue-600 sm:text-sm sm:leading-6",children:[e.jsx("option",{value:"SUBMITTED",children:"Submitted"}),e.jsx("option",{value:"UNDER_REVIEW",children:"Under Review"}),e.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),e.jsx("option",{value:"RESOLVED",children:"Resolved"}),e.jsx("option",{value:"REJECTED",children:"Rejected"}),e.jsx("option",{value:"ESCALATED",children:"Escalated"})]})]})]})},s._id)})})})]})};export{v as default};
