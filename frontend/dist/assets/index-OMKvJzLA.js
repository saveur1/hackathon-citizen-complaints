import{u as h,r as g,j as e,H as n,F as u,b as d,c as j,d as N,e as y,f as p}from"./index-B_fXl06b.js";const v=()=>{const{complaints:r,loading:x}=h(),[a,m]=g.useState(""),o=s=>{switch(s){case"SUBMITTED":return"bg-gray-100 text-gray-800";case"UNDER_REVIEW":return"bg-yellow-100 text-yellow-800";case"IN_PROGRESS":return"bg-blue-100 text-blue-800";case"RESOLVED":return"bg-green-100 text-green-800";case"REJECTED":return"bg-red-100 text-red-800";case"ESCALATED":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},t=r==null?void 0:r.filter(s=>s.title.toLowerCase().includes(a.toLowerCase())||s.description.toLowerCase().includes(a.toLowerCase())||s.location.toLowerCase().includes(a.toLowerCase()));return x?e.jsxs(e.Fragment,{children:[e.jsx(n,{}),e.jsx("div",{className:"flex h-[calc(100vh-64px)] items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-32 w-32 animate-spin rounded-full border-b-2 border-gray-900"}),e.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Loading your tickets..."})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(n,{}),e.jsx("div",{className:"min-h-[calc(100vh-64px)] bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Track Your Complaints"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Monitor the status and progress of your submitted complaints."})]}),e.jsx("div",{className:"mb-8 flex justify-center",children:e.jsxs("div",{className:"relative max-w-md w-full",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(u,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:a,onChange:s=>m(s.target.value),placeholder:"Search your complaints...",className:"block w-full rounded-lg border-0 outline-none py-3 pl-10 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-1 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6"})]})}),e.jsxs("div",{className:"space-y-6",children:[t==null?void 0:t.map(s=>{var l,c,i;return e.jsx("div",{className:"bg-white rounded-xl  border shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-red-100",children:e.jsx(d,{className:"h-6 w-6 text-red-600"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:s.description})]})]}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${o(s.status)}`,children:(l=s.status)==null?void 0:l.replace("_"," ")})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(j,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Location"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.location})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(N,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Submitted On"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(s.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(y,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Handled By"}),e.jsx("p",{className:"text-sm text-gray-900",children:((c=s.handledBy)==null?void 0:c.name)||"Not Assigned"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(p,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Submitted By"}),e.jsx("p",{className:"text-sm text-gray-900",children:((i=s.submittedBy)==null?void 0:i.name)||"Anonymous"})]})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",new Date(s.updatedAt).toLocaleString()]})})]})},s._id)}),(t==null?void 0:t.length)===0&&e.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[e.jsx(d,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No complaints found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or submit a new complaint."})]})]})]})})]})};export{v as default};
